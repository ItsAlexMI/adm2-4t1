---
title: "Unidad 5: Unidad de Control (UC)"
description: "La Unidad de Control coordina el ciclo de instrucciÃ³n del CPU activando las seÃ±ales que gobiernan registros, buses, memoria, ALU y perifÃ©ricos. Puede ser de tipo fija (alambrada) o microprogramada, y define la secuencia temporal de pasos para ejecutar instrucciones."
tags: ["Arquitectura", "CPU", "Unidad de Control", "MicroprogramaciÃ³n", "FSM", "Ciclo de InstrucciÃ³n", "Datapath"]
---

# âš™ï¸ Unidad 5: Unidad de Control (UC)

## ğŸ“Œ Sinopsis

La **Unidad de Control (UC)** coordina y orquesta el ciclo de instrucciÃ³n del procesador, generando las seÃ±ales de control que dirigen registros, buses, memoria, ALU y perifÃ©ricos.  
Puede implementarse mediante **lÃ³gica fija (control alambrado o FSM)** o con **microprogramaciÃ³n** (memoria de control con palabras de control).  

La UC define las **secuencias de pasos de control (T1, T2, â€¦)** para cada instrucciÃ³n, manejando el **contador de programa (PC)**, accesos a memoria, interrupciones y banderas (*flags*/PSW).  
En esencia, es el **â€œdirector de orquestaâ€** que traduce cada instrucciÃ³n en seÃ±ales temporizadas que hacen funcionar el *datapath*.

---

## ğŸ¯ Objetivos de Aprendizaje

- Explicar la **funciÃ³n** de la UC en el ciclo de instrucciÃ³n.  
- Describir las **operaciones bÃ¡sicas de control**: transferencias de registros, acceso a memoria, ejecuciÃ³n ALU, manejo del PC y flags, verificaciÃ³n de interrupciones.  
- Diferenciar las implementaciones de **UC fija (alambrada)** y **UC microprogramada**, con sus ventajas y desventajas.  
- Elaborar la **secuencia de pasos de control (micro pasos)** para instrucciones representativas (`ADD`, `MOV`, `BRx`).  
- Comprender cÃ³mo la UC **gestiona seÃ±ales de control**, **sincroniza ciclos de memoria (MFC/WMFC)** y realiza **microrramificaciones** en microprogramaciÃ³n.  

---

## ğŸš€ Desarrollo TemÃ¡tico

### 1. Papel de la Unidad de Control

La UC convierte la **instrucciÃ³n actual (IR)** y el **estado del sistema** (Tj, flags, interrupciones, etc.) en un conjunto de **seÃ±ales de control temporizadas**.  
Estas seÃ±ales activan operaciones como:

- Lectura/escritura de memoria  
- HabilitaciÃ³n de registros al bus  
- SelecciÃ³n de MUX  
- Operaciones ALU  
- ActualizaciÃ³n del PSW  

> ğŸ’¡ *MetÃ¡fora:* la UC es el **titiritero** que â€œhala las cuerdasâ€ del procesador en el momento preciso.

---

### 2. Ciclo de InstrucciÃ³n y Operaciones Controladas

**Ciclo estÃ¡ndar:**

FETCH â†’ EXECUTE â†’ INTERRUPT CHECK â†’ NEXT


**Ejemplo detallado:**
1. **FETCH:**  
   - PC â†’ MAR  
   - READ  
   - PC â† PC + 1  
   - MDR â†’ IR  
   - DecodificaciÃ³n  

2. **EXECUTE:**  
   - Traer operandos (SOURCE, Y)  
   - ALU â†’ Z  
   - Resultado â†’ registro destino o memoria  

3. **Chequeo de interrupciones:**  
   - Verificar seÃ±ales externas antes del siguiente ciclo.  

**Operaciones tÃ­picas controladas por la UC:**
- Transferencias de registros  
- Lecturas/escrituras de memoria  
- EjecuciÃ³n de ALU  
- ModificaciÃ³n del PC  
- VerificaciÃ³n de interrupciones  
- ManipulaciÃ³n de flags/PSW  
- Limpieza o configuraciÃ³n de bits auxiliares  

---

### 3. Control de Registros y Buses

Cada salida de registro se **aÃ­sla del bus** mediante **buffers de tres estados**.  
La UC genera las seÃ±ales:

- **Rx_out** â†’ habilita la salida de un registro  
- **Rx_in** â†’ permite la carga en otro registro  

**Secuencia tÃ­pica de transferencia:**

Fuente â†’ Bus â†’ Destino

Ambas acciones ocurren dentro de un mismo pulso de reloj controlado por la UC.

---

### 4. Control de Memoria y SincronizaciÃ³n

**Lectura:**

MAR â† direcciÃ³n
READ
Esperar MFC
MDR â† Bus


**Escritura:**

MAR â† direcciÃ³n
MDR â† dato
WRITE
Esperar confirmaciÃ³n


Las seÃ±ales **MFC/WMFC (Memory Function Complete / Wait for MFC)** aseguran la sincronizaciÃ³n del ciclo de memoria.  
Si la memoria tarda, el **secuenciador de la UC** debe pausar mediante polling o una seÃ±al de inhibiciÃ³n.

---

### 5. Manejo del Contador de Programa (PC)

**Incremento:**

PC â† PC + k

(k = tamaÃ±o de instrucciÃ³n en palabras).  
Puede implementarse mediante la ALU o un sumador dedicado.

**ModificaciÃ³n (saltos):**
- **Absoluto:** `PC â† d`  
- **Relativo:** `PC â† PC + d`  
En saltos condicionales (`BRx`), la UC **verifica flags** antes de modificar el PC.

---

### 6. Banderas y Estado (PSW)

La UC lee y actualiza las **banderas de estado**:
- **Z (Zero)**  
- **S/N (Sign/Negative)**  
- **C (Carry)**  
- **V (Overflow)**  

Estas banderas condicionan **saltos**, **microdecisiones** o **microrramificaciones** dentro de la UC microprogramada.

---

### 7. Estrategias de EjecuciÃ³n segÃºn Tipo de InstrucciÃ³n

| Tipo de InstrucciÃ³n | Secuencia de EjecuciÃ³n |
| :--- | :--- |
| **OP (ADD, AND, â€¦)** | Fetch â†’ SOURCE â† op1 â†’ Y â† op2 â†’ ALU â†’ Z â†’ destino â†’ actualizar flags |
| **MOV** | Fetch â†’ SOURCE â† operando â†’ calcular EA â†’ mover SOURCE â†’ destino o memoria |
| **BRx** | Fetch â†’ comprobar condiciÃ³n â†’ si procede: Z â† PC + desplazamiento â†’ PC â† Z |
| **PUSH / POP** | Manipular SP con auto-incremento/decremento; transferir MDR â†” memoria |

---

### 8. Desarrollo en Pasos de Control (Micro Pasos)

Un **paso de control (Tj)** agrupa las seÃ±ales activas en un solo ciclo de reloj.  
Cada instrucciÃ³n (`Ii`) se compone de una **secuencia T1..Tn**, que representan la â€œrecetaâ€ de ejecuciÃ³n que implementa la UC.

---

### 9. ImplementaciÃ³n: UC Fija vs UC Microprogramada

| Aspecto | UC Fija (Hardwired) | UC Microprogramada |
| :--- | :--- | :--- |
| **Estructura** | LÃ³gica combinacional y FSM | Memoria de control + microPC |
| **Velocidad** | Alta | Media / baja |
| **Flexibilidad** | Muy limitada | Alta, fÃ¡cil de modificar |
| **Complejidad** | Elevada en diseÃ±os grandes | Depende del tamaÃ±o del microprograma |
| **Uso tÃ­pico** | CPUs RISC, controladores rÃ¡pidos | CPUs CISC, arquitecturas complejas |

**Notas:**
- La UC fija se implementa con **PLAs o lÃ³gica VLSI**.  
- La microprogramada usa **palabras de control (cw)** almacenadas en una memoria interna, secuenciadas por un **microPC (mPC)**.  
- Las **microrramificaciones (mBr)** permiten saltar dentro del microprograma segÃºn condiciones o modos de direccionamiento.

**CodificaciÃ³n:**
- **Horizontal:** un bit por seÃ±al â†’ mayor ancho, ejecuciÃ³n rÃ¡pida.  
- **Vertical:** seÃ±ales codificadas â†’ menor ancho, requiere decodificaciÃ³n.  
- **HÃ­brido:** mezcla de ambos enfoques.

---

### 10. Microrramificaciones y Manejo de Modos

Para instrucciones con **modos de direccionamiento variables**, como:

ADD R1, R2
ADD (R1)+, 1000(R2)

la UC usa **microrramificaciones** que redirigen el flujo del microprograma segÃºn los bits de modo o los flags, evitando duplicar cÃ³digo de control.

---

## ğŸ“˜ Conceptos y Definiciones Clave

| TÃ©rmino | DefiniciÃ³n |
| :--- | :--- |
| **Unidad de Control (UC)** | Genera seÃ±ales de control para dirigir el datapath. |
| **Paso de Control (Tj)** | Intervalo de reloj con un conjunto definido de seÃ±ales activas. |
| **Palabra de Control (cw)** | RepresentaciÃ³n binaria de las seÃ±ales activas en microprogramaciÃ³n. |
| **microPC (mPC)** | Contador interno que secuencia las palabras de control. |
| **MFC / WMFC** | SeÃ±ales de completamiento de ciclos de memoria. |
| **PLA** | Arreglo de lÃ³gica programable usado en UC fija. |
| **Horizontal / Vertical** | Tipos de organizaciÃ³n de memoria de control. |
| **MicrorramificaciÃ³n (mBr)** | DesvÃ­o del microPC para manejar modos o condiciones. |

---

## ğŸ’¡ ConclusiÃ³n

La **Unidad de Control** traduce la semÃ¡ntica de las instrucciones en **acciones fÃ­sicas** dentro del hardware.  
Su diseÃ±o determina el equilibrio entre **velocidad, flexibilidad y complejidad** del sistema.

El enfoque (alambrado vs microprogramado) y la organizaciÃ³n de la memoria de control (horizontal/vertical) son decisiones clave que impactan en la **capacidad de extensiÃ³n** y **mantenimiento** de la arquitectura.  

Un diseÃ±o sÃ³lido define claramente los **micro pasos**, sincroniza los **ciclos de memoria**, y prevÃ© **microrramificaciones** para manejar modos e interrupciones sin redundancia.

> ğŸ§­ En la web, se recomienda presentar primero la **funciÃ³n general y el ciclo de instrucciÃ³n**, luego la **comparaciÃ³n de implementaciones**, y finalmente **ejemplos de micro pasos y diagramas de seÃ±ales** para visualizar cÃ³mo la UC â€œhilaâ€ todo el funcionamiento del CPU.
